---
description: Adding NumPy Table & Functions to Your Code
---

# 3. NumPy

NumPy is useful for performing mathematical operations, statistical analysis, and array-based calculations. Below, we'll be adding a table summarizing NumPy functions relevant to the project. Integration of NumPy into the existing code for faster numerical computations.

#### Syntax references for NumPy functions are as below:

```
np.mean(array)  # Compute mean
np.median(array)  # Compute median
np.std(array)  # Compute standard deviation
np.var(array)  # Compute variance
np.min(array)  # Get minimum value
np.max(array)  # Get maximum value
np.percentile(array, 25)  # Get 25th percentile value
```

### **Code Breakdown**

* np.mean(clicks) calculates the average number of clicks per user : .2f formats the number to 2 decimal places.
* np.median(clicks) finds the middle values when the dataset is sorted. Useful when data has outliers (e.g., some users have extremely high clicks).
*   np.std(clicks) measures how much values vary from the mean.&#x20;

    A higher standard deviation means click counts vary a lot among users.
* np.var(clicks) computes the variance, which is the square of standard deviation. Higher variance means clicks are highly dispersed.
* np.min(clicks) finds the smallest number of clicks. np.max(clicks) finds the largest number of clicks.
*   np.percentile(clicks, 25) → Finds the 25% (1st quartile).

    np.percentile(clicks, 75) → Finds the 75% (3rd quartile). Useful for understanding distribution (e.g., majority of users have clicks between Q1 and Q3).

```
import pandas as pd
import numpy as np
from faker import Faker
import random

#Initailize Faker
fake = Faker()

#set a random seed for reproducibility
random.seed(42)
fake.seed_instance(42) #to make sure Faker generates the same random values each time as it also had its own randomness stored somewhere in the module 


#Generate and print a fake name
#We only need a placeholder like _ to run the loop and didn't necessarily need it for generating sequential user IDs.
users = []
for i in range(1, 21):
    user = {
        "user_id": "PWR" + str(100 + i),
        "name": fake.name(),
        "age": random.randint(18,60),
        "country": fake.country(),
        "group": random.choice(["A", "B"]),
        "clicks": random.randint(0,20),
        "converted": random.choice([0, 1])
    }
    users.append(user)

#Create DataFrame
df = pd.DataFrame(users)

#to shift the default index from 0 to 1 in pandas
df.index = df.index + 1

print(df)

#below is done to save the data in a csv file 
#df.to_csv("ab_testing_data.csv", index=False)

print("="*50)
print("Wohoo! Data saved successfully, 1/3rd of your project is complete!")

## ==================== For Pandas Functions ==================================#

# ==================== Dataset Overview ====================
print("\n" + "="*50)
print("Dataset Overview")
print("="*50)

print("\nLoading the dataset...")
df = pd.read_csv("ab_testing_data.csv") #loading the dataset

# ==================== Summary of Dataset ====================
print("\n" + "="*50)
print("Summary of dataset (Column types and missing values)")
print("="*50)
print(df.info()) #summary of dataset(column types, missing values to help understand the structure of data)
print("="*50)

# ==================== Summary Statistics ====================
print("\n" + "="*50)
print("Summary Stats (Numerical Data)")
print(df.describe()) #shows statistics for numerical columns useful for understanding age distribution, clicks and conversion rates
print("="*50)

# ==================== A/B Test Group Distribution ====================
print("\n" + "="*50)
print("User Distribution in A/B test groups")
print(df["group"].value_counts()) #counts users in Group A & B to ensure balanced users in A/B testing groups
print("="*50)

# ==================== A/B Test Analysis ====================
#calculated average clicks and conversion rate for each group to help compare Group A and Group B on engagement and conversions
print("\n" + "="*50)
print("A/B test analysis results (Average clicks and conversion rates)")
group_analysis = df.groupby("group").agg({
    "clicks": "mean",
    "converted": "mean"
})
print(group_analysis)
print("="*50)

# ==================== Saving Cleaned Dataset ====================
df.to_csv("cleaned_ab_testing_data_pandas.csv", index=False) #save cleaned daatset for NumPy analysis or deeper Pandas analysis

print("\n" + "="*50)
print("Wohoo! You just learnt how to use basic panda functions and completed 2/3rd of your overall project!")
print("="*50)

# ==================== NumPy-Based Calculations ====================
print("\n" + "="*50)
print("NumPy-Based Statistical Analysis")
print("="*50)

clicks = df["clicks"].values  # Convert Pandas column to NumPy array

# NumPy Calculations
print(f"Average Clicks per User: {np.mean(clicks):.2f}")
print(f"Median Clicks per User: {np.median(clicks)}")
print(f"Click Standard Deviation: {np.std(clicks):.2f}")
print(f"Click Variance: {np.var(clicks):.2f}")
print(f"Min Clicks: {np.min(clicks)}, Max Clicks: {np.max(clicks)}")
print(f"25th Percentile Clicks: {np.percentile(clicks, 25)}")
print(f"75th Percentile Clicks: {np.percentile(clicks, 75)}")
print("="*50)

# ==================== A/B Test Analysis ====================
print("\n" + "="*50)
print("A/B Test Analysis (Average Clicks & Conversion Rates)")
print("="*50)

group_analysis = df.groupby("group").agg({
    "clicks": "mean",
    "converted": "mean"
})
print(group_analysis)
print("="*50)

# ==================== Save Cleaned Data ====================
df.to_csv("cleaned_ab_testing_data_numpy.csv", index=False)

print("\n" + "="*50)
print("Wohoo! You just learned how to use NumPy & Pandas together and completed 3/3rd of your overall project!")
print("="*50)
```

### **Table: NumPy Functions for A/B Testing Analysis**

| **NumPy Function**  | **Purpose in A/B Testing**                  | **Example Use Case**                      |
| ------------------- | ------------------------------------------- | ----------------------------------------- |
| np.mean()           | Calculate the average of a numerical column | Find **average clicks per user**          |
| np.median()         | Get the middle value of sorted data         | Find **median clicks per user**           |
| np.std()            | Calculate standard deviation                | Check **variation in user clicks**        |
| np.var()            | Compute variance                            | Measure **spread of user engagement**     |
| np.percentile()     | Get percentile values (25th, 50th, 75th)    | Understand **user behavior distribution** |
| np.min() / np.max() | Get minimum and maximum values              | Identify **lowest and highest clicks**    |
| np.random.choice()  | Randomly select a value from an array       | Simulate **user interactions**            |
